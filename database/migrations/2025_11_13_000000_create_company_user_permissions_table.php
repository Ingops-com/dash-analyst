<?php\n\nuse Illuminate\\Database\\Migrations\\Migration;\nuse Illuminate\\Database\\Schema\\Blueprint;\nuse Illuminate\\Support\\Facades\\Schema;\n\nreturn new class extends Migration\n{\n    public function up(): void\n    {\n        Schema::create('company_user_permissions', function (Blueprint ) {\n            ->id();\n            ->unsignedBigInteger('company_id');\n            ->unsignedBigInteger('user_id');\n            ->boolean('can_view_annexes')->default(true);\n            ->boolean('can_upload_annexes')->default(false);\n            ->boolean('can_delete_annexes')->default(false);\n            ->boolean('can_generate_documents')->default(false);\n            ->timestamps();\n            ->unique(['company_id', 'user_id']);\n            ->foreign('company_id')->references('id')->on('companies')->onDelete('cascade');\n            ->foreign('user_id')->references('id')->on('users')->onDelete('cascade');\n        });\n    }\n\n    public function down(): void\n    {\n        Schema::dropIfExists('company_user_permissions');\n    }\n};\n
